<%- include('partials/header.ejs') %>
<body>
<%- include('partials/navbar.ejs') %>
<br>
<div class="card">
    <div class="row justify-content-md-center mb-3">
        <h1 class="card-title text-center" style="color:rgb(0, 16, 87); font-weight:bold">
            Update Profile
        </h1>
    </div>
    <div class="row justify-content-md-center">
        <div class="col-md-8 col-md-offset-2">
            <% if (messages.error) { %>
                <% for (let i in messages.error) { %>
                <div class="alert alert-danger"><i class="fa-solid fa-circle-exclamation"></i> &nbsp<%= messages.error[i] %></div>
                <% } %>
            <% } %>
            <% if (mode === "UE") { %>
                <form action="/home/profile/<%=user.id%>/update" method="POST">
                    <div class="form-group mb-3" >
                        <label for="username" class="form-label">Username</label>
                        <input type="text" class="form-control" name="username" value="<%=user.username%>" required>
                    </div>
                    <button class="btn btn-primary" type="submit" value="Save">Save</button>
                    <br><br>
                </form>
            <% } else if (mode === "PW") {%>
                <form action="/home/profile/<%=user.id%>/changePassword" method="POST">
                    <div class="form-group mb-3" >
                        <label for="oldPassword" class="form-label">Old Password</label>
                        <input type="password" class="form-control" name="oldPassword" required>
                    </div>
                    <div class="form-group mb-3" >
                        <label for="password" class="form-label">New Password</label>
                        <input type="password" class="form-control" name="password" required>
                    </div>
                    <div class="form-group mb-3" >
                        <label for="confirmPassword" class="form-label">Confirm New Password</label>
                        <input type="password" class="form-control" name="confirmPassword" required>
                    </div>
                    <button class="btn btn-primary" type="submit" value="Save">Save</button>
                    <br><br>
                </form>
            <% } %>
        </div>
    </div>
</div>
</body>
<%- include('partials/footer.ejs') %>
